<html>
<head>
<title>Deployment Instruction - Production</title>
</head>
<body>
<h1>Deployment Instruction - Production</h1>
    <h2>Install PostgreSQL</h2>
    <ol>
        <li><p>login <b>qirk</b> box via ssh using <b>root</b> account</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:root) change password of <b>root</b> account using the following command:</p>
            <div style="background-color:silver;"><code># passwd root</code></div></li>
        <li><p>logout and login <b>qirk</b> box again via ssh using <b>root</b> account to check new password</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:root) create user memfis (type in password after execution)</p>
            <div style="background-color:silver;"><code># adduser memfis</code></div></li>
        <li><p>(ssh:qirk:root) set password for the user using the following command:</p>
            <div style="background-color:silver;"><code># passwd memfis</code></div></li>
        <li><p>login <b>qirk</b> box via ssh using <b>memfis</b> account</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) switch to the root account</p>
            <div style="background-color:silver;"><code># su</code></div></li>
        <li><p>(ssh:qirk:root) modify <b>/etc/ssh/sshd_config</b></p>
            <div style="background-color:silver;"><code>>>>START the following line:<br/>
<font color="red">#</font>PermitRootLogin no<br/>
>>> FINISH<br/></code></div>
<br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>>START <b>/etc/ssh/sshd_config</b><br/>
PermitRootLogin <font color="red">no</font><br/>
>>> FINISH<br/></code></div></li>
        <li><p>(ssh:qirk:root) restart sshd service using the following command</p>
            <div style="background-color:silver;"><code># systemctl restart sshd.service</code></div></li>
        <li><p>(ssh:qirk:root) update yum using the following command:</p>
            <div style="background-color:silver;"><code># yum update</code></div></li>
        <li><p>(ssh:qirk:root) install postgresql using the following command:</p>
            <div style="background-color:silver;"><code># yum install postgresql-server postgresql-contrib</code></div></li>
        <li><p>(ssh:qirk:root) install net-tools (for ifconfig etc.) using the following command:</p>
            <div style="background-color:silver;"><code># yum install net-tools</code></div></li>
        <li><p>(ssh:qirk:root) initialize postgresql database using the following command:</p>
            <div style="background-color:silver;"><code># postgresql-setup initdb</code></div></li>
        <li><p>(ssh:qirk:root) allow to run postgresql service using the following command:</p>
            <div style="background-color:silver;"><code># systemctl enable postgresql</code></div></li>
        <li><p>(ssh:qirk:root) run postgresql service using the following command:</p>
            <div style="background-color:silver;"><code># systemctl start postgresql</code></div></li>
        <li><p>(ssh:qirk:root) <a id="qirk_external_ip">check external ip the following command</a>:</p>
            <div style="background-color:silver;"><code># ifconfig -a</code></div></li>
        <li><p>(ssh:qirk:root) modify <b>/var/lib/pgsql/data/pg_hba.conf</b></p>
            <div style="background-color:silver;"><code>>>> START the following line<br/>
local&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">peer</font><br/>
>>> FINISH</code></div><br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /var/lib/pgsql/data/pg_hba.conf<br/>
local&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">trust</font><br/>
>>> FINISH</code></div>
</li>
        <li><p>(ssh:qirk:root) restart postgresql using the following command (<i>on custom version of progres the service name will be different, use "systemctl list-units | grep post" to get actual name</i>):</p>
            <div style="background-color:silver;"><code># service postgresql.service restart</code></div></li>
        <li><p>(ssh:qirk:root) switch to the memfis account</p>
            <div style="background-color:silver;"><code># exit</code></div></li>
        <li><p>(ssh:qirk:memfis) login into postgresql shell using the following command:</p>
            <div style="background-color:silver;"><code>$ psql -U postgres</code></div></li>
        <li><p>(psql:qirk:postgres) <a id="psql_postgres_password">reset password for postgres user using the following SQL command:</a></p>
            <div style="background-color:silver;"><code>postgres=# ALTER USER postgres WITH PASSWORD '<font color="red">&lt;password&gt;</font>';</code></div></li>
        <li><p>(psql:qirk:postgres) exit from postgresql using the following command:</p>
            <div style="background-color:silver;"><code>postgres=# \q</code></div></li>
        <li><p>(ssh:qirk:memfis) switch to the root account</p>
            <div style="background-color:silver;"><code># su</code></div></li>
        <li><p>(ssh:qirk:root) modify <b>/var/lib/pgsql/data/pg_hba.conf</b></p>
            <div style="background-color:silver;"><code>>>> START the following line<br/>
local&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trust<br/>
host&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;127.0.0.1/32&nbsp;&nbsp;ident<br/>
host&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;::1/128&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ident<br/>
>>> FINISH</code></div><br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>
>>> START /var/lib/pgsql/data/pg_hba.conf<br/>
local&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">md5</font><br/>
host&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;127.0.0.1/32&nbsp;&nbsp;<font color="red">md5</font><br/>
host&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;::1/128&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">md5</font><br/>
<br/>
host&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">&lt;external_ip_of_qirk&gt;</font>/32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;md5<br/>
host&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">&lt;external_ip_of_clbptmct01&gt;</font>/32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;md5<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:root) modify <b>/var/lib/pgsql/data/postgresql.conf</b> (<a href="#qirk_external_ip">requires external ip</a>)</p>
            <div style="background-color:silver;"><code>>>> START the following line<br/>
<font color="red">#</font>listen_addresses = '<font color="red">localhost</font>'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# what IP address(es) to listen on;<br/>
>>> FINISH</code></div><br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /var/lib/pgsql/data/postgresql.conf<br/>
listen_addresses = '<font color="red">&lt;external_ip_of_qirk&gt;</font>'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# what IP address(es) to listen on;<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:root) restart postgresql using the following command:</p>
            <div style="background-color:silver;"><code># service postgresql.service restart</code></div></li>
        <li><p>(ssh:qirk:root) switch to the memfis account</p>
            <div style="background-color:silver;"><code># exit</code></div></li>
        <li><p>(ssh:qirk:memfis) create directory for postgresql scripts, using the following command:</p>
            <div style="background-color:silver;"><code>$ mkdir ~/psql/</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to /home/memfis/psql/ using the following command:</p>
            <div style="background-color:silver;"><code>$ cd ~/psql/</code></div></li>
        <li><p>(ssh:qirk:memfis) create directories auth, notif and stat, using the following commands:</p>
            <div style="background-color:silver;"><code>$ mkdir auth<br>
$ mkdir notif<br>
$ mkdir stat</code></div></li>
        <li><p>from bitbucket repo upload the following file to <b>/home/memfis/psql/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/back/clb-parent/clb-main-parent/clb-model/psql/_initial-1.sql</code></div></li>
        <li><p>from bitbucket repo upload the following file to <b>/home/memfis/psql/auth/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/back/clb-parent/clb-main-parent/clb-model/psql/auth/_initial-1.sql</code></div></li>
        <li><p>from bitbucket repo upload the following file to <b>/home/memfis/psql/notif/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/back/clb-parent/clb-notification-parent/clb-notification-model/psql/_initial-1.sql</code></div></li>
        <li><p>from bitbucket repo upload the following file to <b>/home/memfis/psql/stat/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/back/clb-parent/clb-statistics-parent/clb-statistics-repo/psql/_initial-1.sql<br/>
/back/clb-parent/clb-statistics-parent/clb-statistics-repo/psql/alter-3.13.1-1.sql</code></div></li>
        <li><p>(ssh:qirk:memfis) <a id="psql_hibernate_password">modify <b>/home/memfis/psql/_initial-1.sql</b></a>:</p>
            <div style="background-color:silver;"><code>>>> START the following line:<br/>
CREATE USER hibernate WITH ENCRYPTED PASSWORD '121212';<br/>
>>> FINISH<br/></code></div><br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /home/memfis/psql/_initial-1.sql:<br/>
CREATE USER hibernate WITH ENCRYPTED PASSWORD '<font color="red">&lt;actual_password&gt;</font>';<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) execute the following commands to setup postgresql database (require <a href="#psql_postgres_password">password of postgres</a> user on <b>first two steps</b> and <a href="#psql_hibernate_password">password for hibernate</a> user on the next commands)</p>
            <div style="background-color:silver;"><code>$ psql -U postgres -d postgres -a -f _initial-1.sql<br/>
$ psql -U postgres -d postgres -a -f auth/_initial-1.sql<br/>
$ psql -U postgres -d postgres -a -f notif/_initial-1.sql<br/>
$ psql -U postgres -d postgres -a -f stat/_initial-1.sql<br/>
$ psql -U hibernate -d clb_stat -a -f stat/alter-3.13.1-1.sql</code></div></li>
        <li><p>(ssh:qirk) switch to the root account</p>
            <div style="background-color:silver;"><code>$ su</code></div></li>
        <li><p>(ssh:qirk) modify <b>/var/lib/pgsql/data/postgresql.conf</b></p>
            <div style="background-color:silver;"><code>>>> START the following line<br/>
max_connections = <font color="red">100</font> # (change requires restart)<br/>
>>> FINISH</code></div><br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /var/lib/pgsql/data/postgresql.conf<br/>
max_connections = <font color="red">500</font> # (change requires restart)<br/>
>>> FINISH</code></div><br/>
and<br/>
<br/>
<div style="background-color:silver;"><code>>>> START the following line<br/>
shared_buffers = <font color="red">128MB</font> # min 128kB<br/>
>>> FINISH</code></div><br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /var/lib/pgsql/data/postgresql.conf<br/>
shared_buffers = <font color="red">160MB</font> # min 128kB<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk) restart postgresql using the following command</p>
            <div style="background-color:silver;"><code># service postgresql.service restart</code></div></li>
        <li><p>(ssh:qirk:memfis) switch to the root account</p>
            <div style="background-color:silver;"><code>$ su</code></div></li>
        <li><p>(ssh:qirk:root) install firewalld using the following command:</p>
            <div style="background-color:silver;"><code># yum install firewalld</code></div></li>
        <li><p>(ssh:qirk:root) allow to run firewalld service using the following command:</p>
            <div style="background-color:silver;"><code># systemctl enable firewalld</code></div></li>
        <li><p>(ssh:qirk:root) run firewalld service using the following command:</p>
            <div style="background-color:silver;"><code># systemctl start firewalld</code></div></li>
        <li><p>(ssh:qirk:root) check status of firewalld service using the following command:</p>
            <div style="background-color:silver;"><code># systemctl status firewalld</code></div></li>
        <li><p>(ssh:qirk:root) add firewall rule for tomcat on clbptmct01, to allow it to connect to the psql service using the following command:</p>
            <div style="background-color:silver;"><code># firewall-cmd --permanent --zone=public --add-rich-rule='rule family="ipv4" source address="<font color="red">&lt;external_ip_of_clbptmct01&gt;</font>/32" port protocol="tcp" port="5432" accept'</code></div></li>
        <li><p>(ssh:qirk:root) reload firewall using the following command:</p>
            <div style="background-color:silver;"><code># firewall-cmd --reload</code></div></li>
    </ol>
    <h2>Install Apache Active MQ</h2>
    <ol>
        <li><p>login <b>qirk</b> box via ssh using <b>memfis</b> account</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) switch to the root account</p>
            <div style="background-color:silver;"><code>$ su</code></div></li>
        <li><p>(ssh:qirk:root) change directory to /usr/local/bin/, using the following command:</p>
            <div style="background-color:silver;"><code># cd /usr/local/bin/</code></div></li>
        <li><p>(ssh:qirk:root) create directory app using the following command:</p>
            <div style="background-color:silver;"><code># mkdir app</code></div></li>
        <li><p>(ssh:qirk:root) change owner of the /app directory to memfis using the following command:</p>
            <div style="background-color:silver;"><code># chown memfis:memfis /usr/local/bin/</code></div></li>
        <li><p>(ssh:qirk:root) create directory /app using the following command:</p>
            <div style="background-color:silver;"><code># mkdir /app</code></div></li>
        <li><p>(ssh:qirk:root) change owner of the /app directory to memfis using the following command:</p>
            <div style="background-color:silver;"><code># chown memfis:memfis /app/</code></div></li>
        <li><p>(ssh:qirk:root) switch to the memfis account</p>
            <div style="background-color:silver;"><code># exit</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to /app, using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /app</code></div></li>
        <li><p>(ssh:qirk:memfis) create directory for java installations using the following command:</p>
            <div style="background-color:silver;"><code>$ mkdir java</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to /app/java using the following command:</p>
            <div style="background-color:silver;"><code>$ cd java</code></div></li>
        <li><p>download openjdk 11 from official openjdk website (tar.gz)</p></li>
        <li><p>using any sftp client upload jdk to /app/java directory</p></li>
        <li><p>(ssh:qirk:memfis) unpack jdk 11 using the following command:</p>
            <div style="background-color:silver;"><code>$ tar -zxf <font color="red">&lt;JDK11&gt;</font>.tar.gz</code></div></li>
        <li><p>(ssh:qirk:memfis) delete jdk distribution:</p>
            <div style="background-color:silver;"><code>$ rm <font color="red">&lt;JDK11&gt;</font>.tar.gz</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to home using the following command:</p>
            <div style="background-color:silver;"><code>$ cd ~</code></div></li>
        <li><p>modify .bash_profile file to add the following lines <b>BEFORE "export PATH"</b> of the file (modify paths according to your dir names!!!):</p>
            <div style="background-color:silver;"><code>>>> START /home/memfis/.bash_profile<br>
<br/>
export JAVA_HOME=/app/java/<font color="red">&lt;jdk_11_home&gt;</font><br/>
PATH="$JAVA_HOME/bin:$PATH"<br/>
<br/>
>>> FINISH
            </code></div></li>
        <li><p>(ssh:qirk:memfis) logout from SSH to have system vars on next SSH session using the following command:</p>
            <div style="background-color:silver;"><code>$ exit</code></div></li>
        <li><p>login on <b>qirk</b> box via ssh using <b>memfis</b> account</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to <b>/usr/local/bin/app/</b> using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /usr/local/bin/app/</code></div></li>
        <li><p>(ssh:qirk:memfis) create directory for apache active mq using the following command:</p>
            <div style="background-color:silver;"><code>$ mkdir activemq/</code></div></li>
        <li><p>download apache active mq for linux from <a href="https://activemq.apache.org/components/classic/download/">offical website</a></p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>upload *.<b>tar.gz</b> distr of activemq to the box into <b>/usr/local/bin/app/activemq/</b> via sftp using memfis account.</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to <b>/usr/local/bin/app/activemq/</b> using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /usr/local/bin/app/activemq/</code></div></li>
        <li><p>(ssh:qirk:memfis) unpack tar.gz distr of apache activemq using the following command:</p>
            <div style="background-color:silver;"><code>$ tar -xzf <font color="red">&lt;filename&gt;</font>.tar.gz</code></div></li>
        <li><p>(ssh:qirk:memfis) delete tar.gz distr of apache activemq using the following command:</p>
            <div style="background-color:silver;"><code>$ rm <font color="red">&lt;filename&gt;</font>.tar.gz</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to conf directory of apache activemq</p>
            <div style="background-color:silver;"><code>$ cd <font color="red">&lt;activemq_home&gt;</font>/conf/</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>activemq.xml</b>: change network interface only</p>
            <div style="background-color:silver;"><code>>>> START the following lines:<br/>
&lt;transportConnector name="amqp" uri="amqp://0.0.0.0:5672?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/&gt;<br/>
&lt;transportConnector name="stomp" uri="stomp://0.0.0.0:61613?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/&gt;<br/>
&lt;transportConnector name="mqtt" uri="mqtt://0.0.0.0:1883?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/&gt;<br/>
&lt;transportConnector name="ws" uri="ws://0.0.0.0:61614?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/&gt;<br/>
>>> FINISH<br/></code></div>
<br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /app/activemq/<font color="red">&lt;activemq_home&gt;</font>/conf/activemq.xml<br/>
&lt;transportConnector name="amqp" uri="amqp://<font color="red">127.0.0.1</font>:5672?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/&gt;<br/>
&lt;transportConnector name="stomp" uri="stomp://<font color="red">127.0.0.1</font>:61613?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/&gt;<br/>
&lt;transportConnector name="mqtt" uri="mqtt://<font color="red">127.0.0.1</font>:1883?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/&gt;<br/>
&lt;transportConnector name="ws" uri="ws://<font color="red">127.0.0.1</font>:61614?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600"/&gt;<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>users.properties</b>: <a id="activemq_clb1_password">add user clb1 instead of the default one</a></p>
            <div style="background-color:silver;"><code>>>> START /app/activemq/<font color="red">&lt;activemq_home&gt;</font>/config/conf/users.properties<br/>
admin=admin<br/>
>>> FINISH</code></div><br/>
<br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /app/activemq/<font color="red">&lt;activemq_home&gt;</font>/config/conf/users.properties<br/>
clb1=<font color="red">&lt;your_password></font><br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>activemq.xml</b>: add the following text as <b>LAST</b> child elements of <b>/beans/broker</b> element (<a href="#activemq_clb1_password">requires password</a>)</p>
            <div style="background-color:silver;"><code>>>> START /app/activemq/<font color="red">&lt;activemq_home&gt;</font>/config/conf/activemq.xml<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;plugins><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;simpleAuthenticationPlugin><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;users><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;authenticationUser username="clb1" password="<font color="red">&lt;your_password></font>" groups=""/><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/users><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/simpleAuthenticationPlugin><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/plugins><br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) <a id="activemq_web_console_creds">modify <b>jetty-realm.properties</b></a></p>
            <div style="background-color:silver;"><code>>>> START the following lines:<br/>
admin: admin, admin<br/>
user: user, user<br/>
>>> FINISH<br/></code></div>
<br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>
>>> START /app/activemq/<font color="red">&lt;activemq_home&gt;</font>/conf/jetty-realm.properties<br/>
<font color="red">mqsupadmin: &lt;password&gt;, admin</font><br/>
>>> FINISH
</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to bin directory of apache activemq using the following command:</p>
            <div style="background-color:silver;"><code>$ cd ../bin/</code></div></li>
        <li><p>(ssh:qirk:memfis) switch to the root account</p>
            <div style="background-color:silver;"><code>$ su</code></div></li>
        <li><p>(ssh:qirk:root) add firewall rule for active mq web-admin console port for your office IP using the following command:</p>
            <div style="background-color:silver;"><code># firewall-cmd --permanent --zone=public --add-rich-rule='rule family="ipv4" source address="<font color="red">&lt;external_ip_of_your_office&gt;</font>" port protocol="tcp" port="8161" accept'</code></div></li>
        <li><p>(ssh:qirk:root) add firewall rule for tomcat on clbptmct01, to allow it to connect to the activemq service using the following command:</p>
            <div style="background-color:silver;"><code># firewall-cmd --permanent --zone=public --add-rich-rule='rule family="ipv4" source address="<font color="red">&lt;external_ip_of_clbptmct01&gt;</font>/32" port protocol="tcp" port="61616" accept'</code></div></li>
        <li><p>(ssh:qirk:root) reload firewall using the following command:</p>
            <div style="background-color:silver;"><code># firewall-cmd --reload</code></div></li>
        <li><p>(ssh:qirk:root) create file <b>/etc/systemd/system/activemq.service</b> with the following content:</p>
            <div style="background-color:silver;"><code>>>> START /etc/systemd/system/activemq.service<br/>
[Unit]<br/>
Description=ActiveMQ<br/>
<br/>
[Service]<br/>
Type=forking<br/>
LimitNOFILE=65535<br/>
PIDFile=/usr/local/bin/app/activemq/apache-activemq-5.15.9/data/activemq.pid<br/>
WorkingDirectory=/usr/local/bin/app/activemq/apache-activemq-5.15.9/bin<br/>
<br/>
User=memfis<br/>
Group=memfis<br/>
<br/>
OOMScoreAdjust=-100<br/>
<br/>
Environment=JAVA_HOME=/app/java/jdk-11.0.2<br/>
<br/>
ExecStart=/usr/local/bin/app/activemq/apache-activemq-5.15.9/bin/activemq start<br/>
ExecStop=/usr/local/bin/app/activemq/apache-activemq-5.15.9/bin/activemq stop<br/>
ExecReload=/usr/local/bin/app/activemq/apache-activemq-5.15.9/bin/activemq restart<br/>
TimeoutSec=300<br/>
<br/>
[Install]<br/>
WantedBy=multi-user.target<br/>
>>> FINISH<br/>
</code></div>
<div style="background-color:gray;"><p>Note: if you <font color="yellow">made</font> mistake in the service script, you can modify it using the following command:</p>
<code>systemctl edit --full activemq</code></div></li>
            <li><p>(ssh:qirk:root) check status of the service script</p>
                <div style="background-color:silver;"><code># systemctl status activemq</code></div></li>
            <li><p>(ssh:qirk:root) output of the command above must be the following:</p>
                <div style="background-color:silver;"><code>activemq.service - ActiveMQ<br/>
&nbsp;&nbsp;Loaded: loaded (/etc/systemd/system/activemq.service; disabled)<br/>
&nbsp;&nbsp;Active: inactive (dead)</code></div></li>
            <li><p>(ssh:qirk:root) enable the service script using the following command:</p>
                <div style="background-color:silver;"><code># systemctl enable activemq</code></div></li>
            <li><p>(ssh:qirk:root) run activemq service using the following command:</p>
                <div style="background-color:silver;"><code># systemctl start activemq</code></div></li>
            <li><p>(ssh:qirk:root) check status of the service using the following command:</p>
                <div style="background-color:silver;"><code># systemctl status activemq</code></div></li>
            <li><p>(ssh:qirk:root) output of the command above must be like the following:</p>
                <div style="background-color:silver;"><code>activemq.service - ActiveMQ<br/>
Loaded: loaded (/etc/systemd/system/activemq.service; enabled; vendor preset: disabled)<br/>
Active: <font color="green"><b>active (running)</b></font> since Mon 2019-05-27 07:26:06 EDT; 4min 3s ago<br/>
Process: 2967 ExecStart=/app/activemq/apache-activemq-5.15.9/bin/activemq start (code=exited, status=0/SUCCESS)<br/>
Main PID: 3063 (java)<br/>
CGroup: /system.slice/activemq.service<br/>
в””в”Ђ3063 /app/java/jdk-11.0.2/bin/java -Xms64M -Xmx1G -Djava.util.logging.config.file=logging.properties -Djava.security.auth.login.config=/app/a...<br/>
<br/>
May 27 07:26:05 localhost.localdomain systemd[1]: Starting ActiveMQ...<br/>
May 27 07:26:06 localhost.localdomain activemq[2967]: INFO: Loading '/app/activemq/apache-activemq-5.15.9//bin/env'<br/>
May 27 07:26:06 localhost.localdomain activemq[2967]: INFO: Using java '/app/java/jdk-11.0.2/bin/java'<br/>
May 27 07:26:06 localhost.localdomain activemq[2967]: INFO: Starting - inspect logfiles specified in logging.properties and log4j.properties to get details<br/>
May 27 07:26:06 localhost.localdomain systemd[1]: Started ActiveMQ.</code></div></li>
    </ol>
    <h2>Install Elastic Search</h2>
    <ol>
        <li><p>login <b>qirk</b> box via ssh using <b>memfis</b> account</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to <b>/usr/local/bin/app/</b> using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /usr/local/bin/app/</code></div></li>
        <li><p>(ssh:qirk:memfis) create directory for elastic search using the following command:</p>
            <div style="background-color:silver;"><code>$ mkdir elastic-search/</code></div></li>
        <li><p>download elastic search distributive for linux (<b>*.tar.gz</b>) from <a href="https://www.elastic.co/downloads/past-releases/elasticsearch-7-1-0">official website (7.1.0 version)</a></p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>upload elastic search distributive on the box to the <b>/usr/local/bin/app/elastic-search/</b> directory using any sftp client</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to <b>/usr/local/bin/app/elastic-search/</b> using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /usr/local/bin/app/elastic-search/</code></div></li>
        <li><p>(ssh:qirk:memfis) unpack elastic search distributive using the following command:</p>
            <div style="background-color:silver;"><code>$ tar -xzf <font color="red">&lt;filename&gt;</font>.tar.gz</code></div></li>
        <li><p>(ssh:qirk:memfis) delete elastic search distributive using the following command:</p>
            <div style="background-color:silver;"><code>$ rm <font color="red">&lt;filename&gt;</font>.tar.gz</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to <b>/app/elastic-search/<font color="red">&lt;elasticsearch_home&gt;</font>/</b> using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /app/elastic-search/elasticsearch-7.1.0/</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>config/elasticsearch.yml</b>: add the following text at the end of the file</p>
            <div style="background-color:silver;"><code>>>> START /app/elastic-search/<font color="red">&lt;elasticsearch_home&gt;</font>/config/elasticsearch.yml<br/>
xpack.security.enabled: true<br/>
xpack.security.authc.accept_default_password: false<br/>
xpack.security.transport.ssl.enabled: true<br/>
<br/>
xpack.security.authc.realms:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;file.realm1:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order: 0<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>config/elasticsearch.yml</b>: </p>
            <div style="background-color:silver;"><code>>>> START the following lines<br/>
# Set the bind address to a specific IP (IPv4 or IPv6):<br/>
#<br/>
<font color="red">#</font>network.host: 192.168.0.1<br/>
#<br/>
# Set a custom port for HTTP:<br/>
#<br/>
<font color="red">#</font>http.port: 9200<br/>
#<br/>
>>> FINISH</code></div><br/>
to:<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /app/elastic-search/<font color="red">&lt;elasticsearch_home&gt;</font>/config/elasticsearch.yml<br/>
# Set the bind address to a specific IP (IPv4 or IPv6):<br/>
#<br/>
network.host: <font color="red">&lt;external_ip_of_qirk&gt;</font><br/>
#<br/>
# Set a custom port for HTTP:<br/>
#<br/>
http.port: 9200<br/>
#<br/>
>>> FINISH</code></div>
<br/>
and<br/>
<br/>
<div style="background-color:silver;"><code>>>> START the following lines<br/>
# ---------------------------------- Cluster -----------------------------------<br/>
#<br/>
# Use a descriptive name for your cluster:<br/>
#<br/>
<font color="red">#</font>cluster.name: my-application<br/>
#<br/>
# ------------------------------------ Node ------------------------------------<br/>
#<br/>
# Use a descriptive name for the node:<br/>
#<br/>
<font color="red">#</font>node.name: node-1<br/>
>>> FINISH</code></div><br/>
to:<br/>
<br/>
<div style="background-color:silver;"><code>>>> START the following lines<br/>
# ---------------------------------- Cluster -----------------------------------<br/>
#<br/>
# Use a descriptive name for your cluster:<br/>
#<br/>
cluster.name: <font color="red">memfis-prod-cluster</font><br/>
#<br/>
# ------------------------------------ Node ------------------------------------<br/>
#<br/>
# Use a descriptive name for the node:<br/>
#<br/>
node.name: <font color="red">memfis-prod-cluster-node</font><br/>
>>> FINISH</code></div>
<br/>
and<br/>
<br/>
<div style="background-color:silver;"><code>>>> START the following lines<br/>
<font color="red">#</font>cluster.initial_master_nodes: ["node-1", "node-2"]<br/>
>>> FINISH</code></div><br/>
to:<br/>
<br/>
<div style="background-color:silver;"><code>>>> START the following lines<br/>
cluster.initial_master_nodes: ["<font color="red">memfis-prod-cluster-node</font>"]<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>config/roles.yml</b>: add the following text at the end of the file</p>
            <div style="background-color:silver;"><code>>>> START /app/elastic-search/<font color="red">&lt;elasticsearch_home&gt;</font>/config/roles.yml<br/>
clb_users:<br/>
&nbsp;&nbsp;run_as: [ 'clb1' ]<br/>
&nbsp;&nbsp;cluster: [ 'monitor' ]<br/>
&nbsp;&nbsp;indices:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- names: [ 'user', 'task' ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;privileges: [ 'all' ]<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) create user clb1 using the following command (<a id="elasticsearch_clb1_password">type in password after execution</a>):</p>
            <div style="background-color:silver;"><code>$ bin/elasticsearch-users useradd clb1</code></div></li>
        <li><p>(ssh:qirk:memfis) give user clb1 the role of clb_users using the following command:</p>
            <div style="background-color:silver;"><code>$ bin/elasticsearch-users roles clb1 -a clb_users</code></div></li>
        <li><p>modify <b>/app/elastic-search/elasticsearch-7.1.0/bin/elasticsearch</b></p>
            <div style="background-color:silver;"><code>>>> START the following lines:<br/>
if ! echo $* | grep -E '(^-d |-d$| -d |--daemonize$|--daemonize )' > /dev/null; then<br/>
exec \<br/>
&nbsp;&nbsp;"$JAVA" \<br/>
&nbsp;&nbsp;$ES_JAVA_OPTS \<br/>
&nbsp;&nbsp;-Des.path.home="$ES_HOME" \<br/>
&nbsp;&nbsp;-Des.path.conf="$ES_PATH_CONF" \<br/>
&nbsp;&nbsp;-Des.distribution.flavor="$ES_DISTRIBUTION_FLAVOR" \<br/>
&nbsp;&nbsp;-Des.distribution.type="$ES_DISTRIBUTION_TYPE" \<br/>
&nbsp;&nbsp;-Des.bundled_jdk="$ES_BUNDLED_JDK" \<br/>
&nbsp;&nbsp;-cp "$ES_CLASSPATH" \<br/>
&nbsp;&nbsp;org.elasticsearch.bootstrap.Elasticsearch \<br/>
&nbsp;&nbsp;"$@"<br/>
else<br/>
&nbsp;exec \<br/>
&nbsp;&nbsp;"$JAVA" \<br/>
&nbsp;&nbsp;$ES_JAVA_OPTS \<br/>
&nbsp;&nbsp;-Des.path.home="$ES_HOME" \<br/>
&nbsp;&nbsp;-Des.path.conf="$ES_PATH_CONF" \<br/>
&nbsp;&nbsp;-Des.distribution.flavor="$ES_DISTRIBUTION_FLAVOR" \<br/>
&nbsp;&nbsp;-Des.distribution.type="$ES_DISTRIBUTION_TYPE" \<br/>
&nbsp;&nbsp;-Des.bundled_jdk="$ES_BUNDLED_JDK" \<br/>
&nbsp;&nbsp;-cp "$ES_CLASSPATH" \<br/>
&nbsp;&nbsp;org.elasticsearch.bootstrap.Elasticsearch \<br/>
&nbsp;&nbsp;"$@" \<br/>
&nbsp;&nbsp;&lt;&amp;- &amp;<br/>
&nbsp;retval=$?<br/>
&nbsp;pid=$!<br/>
&nbsp;[ $retval -eq 0 ] || exit $retval<br/>
&nbsp;if [ ! -z "$ES_STARTUP_SLEEP_TIME" ]; then<br/>
&nbsp;&nbsp;sleep $ES_STARTUP_SLEEP_TIME<br/>
&nbsp;fi<br/>
&nbsp;if ! ps -p $pid > /dev/null ; then<br/>
&nbsp;&nbsp;exit 1<br/>
&nbsp;fi<br/>
&nbsp;exit 0<br/>
fi<br/>
>>> FINISH<br/></code></div>
<br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /app/elastic-search/elasticsearch-7.1.0/bin/elasticsearch:<br/>
if ! echo $* | grep -E '(^-d |-d$| -d |--daemonize$|--daemonize )' > /dev/null; then<br/>
exec \<br/>
&nbsp;&nbsp;"$JAVA" \<br/>
&nbsp;&nbsp;$ES_JAVA_OPTS \<br/>
&nbsp;&nbsp;-Des.path.home="$ES_HOME" \<br/>
&nbsp;&nbsp;-Des.path.conf="$ES_PATH_CONF" \<br/>
&nbsp;&nbsp;-Des.distribution.flavor="$ES_DISTRIBUTION_FLAVOR" \<br/>
&nbsp;&nbsp;-Des.distribution.type="$ES_DISTRIBUTION_TYPE" \<br/>
&nbsp;&nbsp;-Des.bundled_jdk="$ES_BUNDLED_JDK" \<br/>
&nbsp;&nbsp;-cp "$ES_CLASSPATH" \<br/>
&nbsp;&nbsp;org.elasticsearch.bootstrap.Elasticsearch \<br/>
&nbsp;&nbsp;"$@"<br/><font color="red">
&nbsp;&nbsp;pid=$!<br/>
&nbsp;&nbsp;if ! ps -p $pid > /dev/null ; then<br/>
&nbsp;&nbsp;&nbsp;&nbsp;exit 1<br/>
&nbsp;&nbsp;fi<br/>
&nbsp;&nbsp;echo $pid > "${ES_HOME}/data/elasticsearch.pid"</font><br/>
else<br/>
&nbsp;exec \<br/>
&nbsp;&nbsp;"$JAVA" \<br/>
&nbsp;&nbsp;$ES_JAVA_OPTS \<br/>
&nbsp;&nbsp;-Des.path.home="$ES_HOME" \<br/>
&nbsp;&nbsp;-Des.path.conf="$ES_PATH_CONF" \<br/>
&nbsp;&nbsp;-Des.distribution.flavor="$ES_DISTRIBUTION_FLAVOR" \<br/>
&nbsp;&nbsp;-Des.distribution.type="$ES_DISTRIBUTION_TYPE" \<br/>
&nbsp;&nbsp;-Des.bundled_jdk="$ES_BUNDLED_JDK" \<br/>
&nbsp;&nbsp;-cp "$ES_CLASSPATH" \<br/>
&nbsp;&nbsp;org.elasticsearch.bootstrap.Elasticsearch \<br/>
&nbsp;&nbsp;"$@" \<br/>
&nbsp;&nbsp;&lt;&amp;- &amp;<br/>
&nbsp;retval=$?<br/>
&nbsp;pid=$!<br/>
&nbsp;[ $retval -eq 0 ] || exit $retval<br/>
&nbsp;if [ ! -z "$ES_STARTUP_SLEEP_TIME" ]; then<br/>
&nbsp;&nbsp;sleep $ES_STARTUP_SLEEP_TIME<br/>
&nbsp;fi<br/>
&nbsp;if ! ps -p $pid > /dev/null ; then<br/>
&nbsp;&nbsp;exit 1<br/>
&nbsp;fi<br/><font color="red">
&nbsp;echo $pid > "${ES_HOME}/data/elasticsearch.pid"</font><br/>
&nbsp;exit 0<br/>
fi<br/>
>>> FINISH<br/></code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>config/jvm.options</b>: modify the following lines:</p>
            <div style="background-color: silver;"><code>>>> START /app/elastic-search/elasticsearch-7.1.0/config/jvm.options<br/>
-Xms<font color="red">1g</font><br/>
-Xmx<font color="red">1g</font><br/>
>>> FINISH</code></div><br/>
to<br/>
<br/>
<div style="background-color: silver;"><code>>>> START /app/elastic-search/elasticsearch-7.1.0/config/jvm.options<br/>
-Xms<font color="red">2g</font><br/>
-Xmx<font color="red">2g</font><br/>
>>> FINISH</code></div><br/></li>
            <li><p>(ssh:qirk:memfis) switch to the root account</p>
                <div style="background-color:silver;"><code>$ su</code></div></li>
            <li><p>(ssh:qirk:root) modify <b>/etc/security/limits.conf</b>: add the following text at the end of the file</p>
                <div style="background-color:silver;"><code>>>> START /etc/security/limits.conf<br/>
memfis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nofile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65535<br/>
>>> FINISH</code></div></li>
            <li><p>(ssh:qirk:root) modify <b>/etc/sysctl.conf</b>: add the following text at the end of the file</p>
                <div style="background-color:silver;"><code>>>> START /etc/sysctl.conf<br/>
vm.max_map_count=262144<br/>
>>> FINISH</code></div></li>
            <li><p>(ssh:qirk:root) save vm.max_map_count configuration</p>
                <div style="background-color:silver;"><code># sysctl --system</code></div></li>
            <li><p>(ssh:qirk:root) create file <b>/etc/systemd/system/elasticsearch.service</b> with the following content:</p>
                <div style="background-color:silver;"><code>>>> START /etc/systemd/system/elasticsearch.service<br/>
[Unit]<br/>
Description=ElasticSearch<br/>
<br/>
[Service]<br/>
Type=forking<br/>
LimitNOFILE=65535<br/>
PIDFile=/usr/local/bin/app/elastic-search/elasticsearch-7.1.0/data/elasticsearch.pid<br/>
WorkingDirectory=/usr/local/bin/app/elastic-search/elasticsearch-7.1.0/bin<br/>
<br/>
User=memfis<br/>
Group=memfis<br/>
<br/>
OOMScoreAdjust=-100<br/>
<br/>
#Environment=JAVA_HOME=/app/java/jdk-11.0.2<br/>
<br/>
ExecStart=/usr/local/bin/app/elastic-search/elasticsearch-7.1.0/bin/elasticsearch -d<br/>
ExecStop=/bin/kill `cat /usr/local/bin/app/elastic-search/elasticsearch-7.1.0/data/elasticsearch.pid`<br/>
TimeoutSec=300<br/>
<br/>
[Install]<br/>
WantedBy=multi-user.target<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:root) check status of the service script</p>
            <div style="background-color:silver;"><code># systemctl status elasticsearch</code></div></li>
        <li><p>(ssh:qirk:root) output of the command above must be the following:</p>
            <div style="background-color:silver;"><code>elasticsearch.service - ElasticSearch<br/>
Loaded: loaded (/etc/systemd/system/elasticsearch.service; disabled; vendor preset: disabled)<br/>
Active: inactive (dead)</code></div></li>
        <li><p>(ssh:qirk:root) enable the service script using the following command:</p>
            <div style="background-color:silver;"><code># systemctl enable elasticsearch</code></div></li>
        <li><p>(ssh:qirk:root) run elasticsearch service using the following command:</p>
            <div style="background-color:silver;"><code># systemctl start elasticsearch</code></div></li>
        <li><p>(ssh:qirk:root) add firewall rule for tomcat on clbptmct01, to allow it to connect to the elasticsearch service using the following command:</p>
            <div style="background-color:silver;"><code># firewall-cmd --permanent --zone=public --add-rich-rule='rule family="ipv4" source address="<font color="red">&lt;external_ip_of_clbptmct01&gt;</font>/32" port protocol="tcp" port="9200" accept'</code></div></li>
        <li><p>(ssh:qirk:root) reload firewall using the following command:</p>
            <div style="background-color:silver;"><code># firewall-cmd --reload</code></div></li>
        <li><p>(ssh:qirk:root) switch to the memfis account</p>
            <div style="background-color:silver;"><code># exit</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to /usr/local/bin/app/elastic-search/elasticsearch-7.1.0/ using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /usr/local/bin/app/elastic-search/elasticsearch-7.1.0/</code></div></li>
        <li><p>(ssh:qirk:memfis) set passwords for reserved users using the following command <a href="#elasticsearch_elastic_password">(type in passwords for 6 different users after execution)</a>:</p>
            <div style="background-color:silver;"><code>$ bin/elasticsearch-setup-passwords interactive</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to /home/memfis/elasticsearch/ using the following command:</p>
            <div style="background-color:silver;"><code>$ cd ~/elasticsearch/</code></div></li>
        <li><p>(ssh:qirk:memfis) delete all files and directories using the following commands:</p>
            <div style="background-color:silver;"><code>$ rm -rf lib/<br/>
$ rm clb-elasticsearch-datasync-3.12.0-RELEASE.jar<br/></code></div></li>
        <li><p>from bitbucket repo upload the following files and directories to <b>/home/memfis/elasticsearch/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/back/clb-parent/clb-elasticsearch-datasync/elasticsearch-mapping-scripts/_initial-3.12.1.sh<br/>
/back/clb-parent/clb-elasticsearch-datasync/elasticsearch-mapping-scripts/alter-3.13.1-1.sh<br/>
/back/clb-parent/clb-elasticsearch-datasync/target/clb-elasticsearch-datasync-3.13.1-CUT.jar<br/>
/back/clb-parent/clb-elasticsearch-datasync/target/lib/<br/></code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>~/elasticsearch/_initial-3.12.1.sh</b>: change <font color="red">127.0.0.1</font> to <font color="red">&lt;external_ip_of_qirk&gt;</font></p></li>
        <li><p>(ssh:qirk:memfis) modify <b>~/elasticsearch/alter-3.12.1-1.sh</b>: change <font color="red">127.0.0.1</font> to <font color="red">&lt;external_ip_of_qirk&gt;</font></p></li>
        <li><p>(ssh:qirk:memfis) execute elasticsearch curl script using the following command (<a href="#elasticsearch_elastic_password">requires password for elastic user</a>):</p>
            <div style="background-color:silver;"><code>$ bash ./_initial-3.12.1.sh<br/>
$ bash ./alter-3.13.1-1.sh</code></div></li>
        <li><p>(ssh:qirk:memfis) the output for this command should be</p>
            <div style="background-color:silver;"><code>$ {"acknowledged":true}</code></div></li>
        <li><p>(ssh:qirk:memfis) create file <b>datasync.properties</b>: modify the following rows:</p>
            <div style="background-color:silver;"><code>>>> START /home/memfis/elasticsearch/datasync.properties<br/>
database.url=jdbc:postgresql://<font color="red">&lt;external_ip_of_qirk&gt;</font>:5432/clb<br/>
database.auth.url=jdbc:postgresql://<font color="red">&lt;external_ip_of_qirk&gt;</font>:5432/clb_auth<br/>
database.username=hibernate<br/>
database.password=<font color="red">&lt;postgresql:hibernate_password&gt;</font><br/>
<br/>
elasticsearch.nodes=<font color="red">&lt;external_ip_of_qirk&gt;</font>:9200<br/>
elasticsearch.scheme=http<br/>
elasticsearch.username=clb1<br/>
elasticsearch.password=<font color="red">&lt;elasticsearch:clb1_password&gt;</font><br/>
>>> FINISH</code></div></li>
    </ol>
    <h2>Install Apache Tomcat</h2>
    <ol>
        <li><p>login <b>qirk</b> box via ssh using <b>memfis</b> account</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to <b>/usr/local/bin/app/</b> using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /usr/local/bin/app/</code></div></li>
        <li><p>(ssh:qirk:memfis) create directory for apache tomcat using the following command:</p>
            <div style="background-color:silver;"><code>$ mkdir tomcat/</code></div></li>
        <li><p>download tomcat 9.0.24 (download type: core; distr format: tar.gz) from <a href="https://tomcat.apache.org/download-90.cgi">oficial website</a>;</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>upload tomcat distributive to <b>/usr/local/bin/app/tomcat/</b> directory of the box using any sftp client;</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to <b>/usr/local/bin/app/tomcat/</b> using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /usr/local/bin/app/tomcat/</code></div></li>
        <li><p>(ssh:qirk:memfis) unpack tomcat distr using the following command:</p>
            <div style="background-color:silver;"><code>$ tar -xzf <font color="red">&lt;filename&gt;</font>.tar.gz</code></div></li>
        <li><p>(ssh:qirk:memfis) delete tomcat distr using the following command:</p>
            <div style="background-color:silver;"><code>$ rm <font color="red">&lt;filename&gt;</font>.tar.gz</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to <b>/usr/local/bin/app/tomcat/<font color="red">&lt;tomcat_home&gt;</font>/webapps/</b> using the following command:</p>
            <div style="background-color:silver;"><code>$ cd /usr/local/bin/app/tomcat/<font color="red">&lt;tomcat_home&gt;</font>/webapps/</code></div></li>
        <li><p>(ssh:qirk:memfis) delete all files/directories in the directory using the following commands:</p>
            <div style="background-color:silver;"><code>$ rm -rf docs/<br/>
$ rm -rf examples/<br/>
$ rm -rf host-manager/<br/>
$ rm -rf manager/<br/>
$ rm -rf ROOT/</code></div></li>
        <li><p>upload the following files that appears after build of local copy of colaba_back to <b>/usr/local/bin/app/tomcat/<font color="red">&lt;tomcat_home&gt;</font>/lib/</b>:</p>
            <div style="background-color:silver;"><code>/back/clb-parent/clb-common/clb-common-deps-amazonaws/target/clb-common-deps-amazonaws-3.13.1-CUT-jar-with-dependencies.jar<br/>
/back/clb-parent/clb-common/clb-common-deps-cassandra/target/clb-common-deps-cassandra-3.13.1-CUT-jar-with-dependencies.jar<br/>
/back/clb-parent/clb-common/clb-common-deps-elasticsearch/target/clb-common-deps-elasticsearch-3.13.1-CUT-jar-with-dependencies.jar<br/>
/back/clb-parent/clb-common/clb-common-deps-httpclient/target/clb-common-deps-httpclient-3.13.1-CUT-jar-with-dependencies.jar<br/>
/back/clb-parent/clb-common/clb-common-deps-jms/target/clb-common-deps-jms-3.13.1-CUT-jar-with-dependencies.jar<br/>
/back/clb-parent/clb-common/clb-common-deps-logging/target/clb-common-deps-logging-3.13.1-CUT-jar-with-dependencies.jar<br/>
/back/clb-parent/clb-common/clb-common-deps-sql/target/clb-common-deps-sql-3.13.1-CUT-jar-with-dependencies.jar<br/>
/back/clb-parent/clb-common/clb-common-deps-jackson/target/clb-common-deps-jackson-3.13.1-CUT-jar-with-dependencies.jar</code></div></li>
        <li><p>upload the following files that appears after build of local copy of colaba_back to <b>/usr/local/bin/app/tomcat/<font color="red">&lt;tomcat_home&gt;</font>/webapps/</b>:</p>
            <div style="background-color:silver;"><code>/back/clb-parent/clb-chat-parent/clb-chat-web/target/clb-chat-web.war<br/>
/back/clb-parent/clb-notification-parent/clb-notification-web/target/clb-notification-web.war<br/>
/back/clb-parent/clb-statistics-parent/clb-statistics-web/target/clb-statistics-web.war<br/>
/back/clb-parent/clb-main-parent/clb-web/target/clb-web.war</code></div></li>
        <li><p>upload the following files from clbptmct01 box to <b>/usr/local/bin/app/tomcat/<font color="red">&lt;tomcat_home&gt;</font>/conf/</b>:</p>
            <div style="background-color:silver;"><code>/app/tomcat/apache-tomcat-9.0.21/conf/cassandra.conf<br>
/app/tomcat/apache-tomcat-9.0.21/conf/cassandra.crdt.conf<br>
/app/tomcat/apache-tomcat-9.0.21/conf/context.xml<br>
/app/tomcat/apache-tomcat-9.0.21/conf/log4j2.xml<br>
/app/tomcat/apache-tomcat-9.0.21/conf/server.xml</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>server.xml</b>: change <font color="red">127.0.0.1</font> to <font color="red">&lt;external_ip_of_qirk&gt;</font> in all PostgreSQL resources</p>
        <li><p>(ssh:qirk:memfis) modify <b>server.xml</b>: change <font color="red">127.0.0.1</font> to <font color="red">&lt;external_ip_of_qirk&gt;</font> in Elasticsearch resource</p>
        <li><p>(ssh:qirk:memfis) modify <b>server.xml</b>: modify the following rows:</p>
            <div style="background-color: silver;"><code>>>> START server.xml<br/>
&nbsp;&nbsp;&lt;!-- ActiveMQ Self Check Topic --><br/>
&nbsp;&nbsp;&lt;Resource auth="Container" factory="org.apache.activemq.jndi.JNDIReferenceFactory"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;name="jms/topic/clb.selfcheck"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;physicalName="clb.selfcheck<font color="red">2</font>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;type="org.apache.activemq.command.ActiveMQTopic" /><br/>
<br/>
&nbsp;&nbsp;&lt;!-- ActiveMQ Self Check Queue --><br/>
&nbsp;&nbsp;&lt;Resource auth="Container" factory="org.apache.activemq.jndi.JNDIReferenceFactory"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;name="jms/queue/clb.selfcheck.q"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;physicalName="clb.selfcheck<font color="red">2</font>.q"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;type="org.apache.activemq.command.ActiveMQQueue" /><br/>
>>> FINISH</code></div><br>
to<br>
<br>
<div style="background-color: silver;"><code>>>> START server.xml<br />
&nbsp;&nbsp;&lt;!-- ActiveMQ Self Check Topic --><br/>
&nbsp;&nbsp;&lt;Resource auth="Container" factory="org.apache.activemq.jndi.JNDIReferenceFactory"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;name="jms/topic/clb.selfcheck"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;physicalName="clb.selfcheck<font color="red">1</font>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;type="org.apache.activemq.command.ActiveMQTopic" /><br/>
<br/>
&nbsp;&nbsp;&lt;!-- ActiveMQ Self Check Queue --><br/>
&nbsp;&nbsp;&lt;Resource auth="Container" factory="org.apache.activemq.jndi.JNDIReferenceFactory"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;name="jms/queue/clb.selfcheck.q"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;physicalName="clb.selfcheck<font color="red">1</font>.q"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;type="org.apache.activemq.command.ActiveMQQueue" /><br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>common.properties</b>: add the following rows <font color="red">right after</font> the <b>front.url.decline.invite</b> property:</p>
            <div style="background-color: silver;"><code>>>> START common.properties<br/>
front.url.manage.subscriptions=/manage-subscriptions/<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to bin dir of tomcat using the following command:</p>
            <div style="background-color:silver;"><code>$ cd ../bin/</code></div></li>
        <li><p>(ssh:qirk:memfis) create file <b>setenv.sh</b> with the following content:</p>
            <div style="background-color:silver;"><code>>>> START setenv.sh<br/>
JAVA_OPTS="$JAVA_OPTS -Dlog4j.configurationFile=$CATALINA_HOME/conf/log4j2.xml"<br/>
JAVA_OPTS="$JAVA_OPTS -Xmx1500m"<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) make <b>setenv.sh</b> executable using the following command:</p>
            <div style="background-color:silver;"><code>$ chmod +x setenv.sh</code></div></li>
        <li><p>(ssh:qirk:memfis) switch to the root account</p>
            <div style="background-color:silver;"><code>$ su</code></div></li>
        <li><p>(ssh:qirk:root) create file <b>/etc/systemd/system/tomcat.service</b> with the following content:</p>
            <div style="background-color:silver;"><code>>>> START /etc/systemd/system/tomcat.service<br/>
[Unit]<br/>
Description=Tomcat<br/>
<br/>
[Service]<br/>
Type=forking<br/>
LimitNOFILE=65535<br/>
PIDFile=/usr/local/bin/app/tomcat/apache-tomcat-9.0.24/catalina.pid<br/>
WorkingDirectory=/usr/local/bin/app/tomcat/apache-tomcat-9.0.24/bin<br/>
<br/>
User=memfis<br/>
Group=memfis<br/>
<br/>
OOMScoreAdjust=-100<br/>
<br/>
Environment=JAVA_HOME=/app/java/jdk-11.0.2<br/>
Environment=CATALINA_PID=/usr/local/bin/app/tomcat/apache-tomcat-9.0.24/catalina.pid<br/>
<br/>
ExecStart=/usr/local/bin/app/tomcat/apache-tomcat-9.0.24/bin/startup.sh<br/>
ExecStop=/usr/local/bin/app/tomcat/apache-tomcat-9.0.24/bin/shutdown.sh<br/>
TimeoutSec=300<br/>
<br/>
[Install]<br/>
WantedBy=multi-user.target<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:root) check status of the service script</p>
            <div style="background-color:silver;"><code># systemctl status tomcat</code></div></li>
        <li><p>(ssh:qirk:root)  output of the command above must be the following:</p>
            <div style="background-color:silver;"><code>tomcat.service - Tomcat<br/>
Loaded: loaded (/etc/systemd/system/tomcat.service; disabled; vendor preset: disabled)<br/>
Active: inactive (dead)</code></div></li>
        <li><p>(ssh:qirk:root) enable the service script using the following command:</p>
            <div style="background-color:silver;"><code># systemctl enable tomcat</code></div></li>
        <li><p>(ssh:qirk:root) run tomcat service using the following command:</p>
            <div style="background-color:silver;"><code># systemctl start tomcat</code></div></li>
    </ol>
    <h2>Nginx</h2>
    <ol>
        <li><p>login <b>qirk</b> box via ssh using <b>memfis</b> account</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>(ssh:qirk:memfis) switch to the root account</p>
            <div style="background-color:silver;"><code>$ su</code></div></li>
        <li><p>(ssh:qirk:memfis) install epel-release repositories</p>
            <div style="background-color:silver;"><code># yum install epel-release<br/>
# yum update</code></div></li>
        <li><p>(ssh:qirk:memfis) install nginx</p>
            <div style="background-color:silver;"><code># yum install nginx</code></div></li>
        <li><p>(ssh:qirk:memfis) add restriction for network connect nginx daemon</p>
            <div style="background-color:silver;"><code># /usr/sbin/setsebool -P httpd_can_network_connect 1</code></div></li>
        <li><p>(ssh:qirk:memfis) get semanage command from utilities</p>
            <div style="background-color:silver;"><code># yum install policycoreutils-python-utils</code></div></li>
        <li><p>(ssh:qirk:memfis) open http and https ports</p>
            <div style="background-color:silver;"><code># firewall-cmd --add-service=http<br/>
# firewall-cmd --add-service=https<br/>
# firewall-cmd --runtime-to-permanent</code></div></li>
        <li><p>(ssh:qirk:memfis) make directory for certificates</p>
            <div style="background-color:silver;"><code># mkdir /etc/nginx/ssl</code></div></li>
        <li><p>from <b>clbpngnx01</b> box upload the following files to <b>/etc/nginx/ssl/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/etc/nginx/ssl/qirk-bundle.crt<br/>
/etc/nginx/ssl/qirk.key</code></div></li>
        <li><p>(ssh:qirk:memfis) change owner of the /etc/nginx/ssl directory to nginx using the following command</p>
            <div style="background-color:silver;"><code># chown -R nginx:nginx /etc/nginx/ssl/</code></div></li>
        <li><p>from <b>clbpngnx01</b> box upload the following files to <b>/etc/nginx/conf.d/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/etc/nginx/conf.d/qirk.conf</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>/etc/nginx/conf.d/qirk.conf</b>: modify the following rows:</p>
            <div style="background-color:silver;"><code>>>> START /etc/nginx/conf.d/qirk.conf<br/>
upstream tomcat {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;ip_hash;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;server <font color="red">&lt;external_ip_of_clbptmct01&gt;</font>:8000;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;server <font color="red">&lt;external_ip_of_clbptmct02&gt;</font>:8000;<br/>
}<br/>
>>> FINISH</code></div><br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /etc/nginx/conf.d/qirk.conf<br/>
upstream tomcat {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;ip_hash;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;server <font color="red">127.0.0.1</font>:8000;<br/>
}<br/>
>>> FINISH</code></div><br/>
and<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /etc/nginx/conf.d/qirk.conf<br/>
location / {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;if (-f /var/www/maintenance/on.file) {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 503;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;root <font color="red">/var/www/build/tLSL_4m6/0/memfis.org/qirk/front/build/</font>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;try_files $uri $uri/ /index.html;<br/>
}<br/>
>>> FINISH</code></div><br/>
to<br/>
<br/>
<div style="background-color:silver;"><code>>>> START /etc/nginx/conf.d/qirk.conf<br/>
location / {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;if (-f /var/www/maintenance/on.file) {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 503;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;root <font color="red">/var/www/git/build/</font>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;try_files $uri $uri/ /index.html;<br/>
}<br/>
>>> FINISH</code></div></li>
        <li><p>(ssh:qirk:memfis) modify <b>/etc/nginx/conf.d/qirk.conf</b>: remove <b>/clb-crdt-web</b> and <b>/clb-admin-web</b> locations:</p></li>
        <li><p>(ssh:qirk:memfis) install git on server</p>
            <div style="background-color:silver;"><code># yum -y install git bc</code></div></li>
        <li><p>(ssh:qirk:memfis) make directory for project</p>
            <div style="background-color:silver;"><code># mkdir /var/www</code></div></li>
        <li><p>(ssh:qirk:memfis) clone front repository</p>
            <div style="background-color:silver;"><code># git clone https://<font color="red">&lt;link_to_repo&gt;</font> /var/www/git</code></div></li>
        <li><p>(ssh:qirk:memfis) install tools for nodejs and libraries installation</p>
            <div style="background-color:silver;"><code># yum install -y gcc-c++ make</code></div></li>
        <li><p>(ssh:qirk:memfis) put nodejs stable repositories in repo lists</p>
            <div style="background-color:silver;"><code># curl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash -</code></div></li>
        <li><p>(ssh:qirk:memfis) install nodejs</p>
            <div style="background-color:silver;"><code># yum install -y nodejs</code></div></li>
        <li><p>(ssh:qirk:memfis) go to front directory</p>
            <div style="background-color:silver;"><code># cd /var/www/git</code></div></li>
        <li><p>(ssh:qirk:memfis) install npm packages</p>
            <div style="background-color:silver;"><code># npm install</code></div></li>
        <li><p>(ssh:qirk:memfis) build frontend</p>
            <div style="background-color:silver;"><code># npm run build-production</code></div></li>
        <li><p>(ssh:qirk:memfis) change files permissions</p>
            <div style="background-color:silver;"><code># chown -R nginx:nginx /var/www/</code></div></li>
        <li><p>(ssh:qirk:memfis) change user permissions for directory iv files was moved</p>
            <div style="background-color:silver;"><code># sudo restorecon -r -v /var/www</code></div></li>
        <li><p>(ssh:qirk:memfis) then give nginx access to files in directory</p>
            <div style="background-color:silver;"><code># sudo semanage fcontext -a -t httpd_sys_content_t '/var/www(/.*)?'</code></div></li>
        <li><p>(ssh:qirk:memfis) restart nginx</p>
            <div style="background-color:silver;"><code># systemctl restart nginx</code></div></li>
    </ol>
    <h2>Migrate Memfis from another machine. Date 2020-01-24</h2>
    <ol>
        <li><p>login <b>qirk</b> box via ssh using <b>memfis</b> account</p>
            <div style="background-color:silver;"><code></code></div></li>
        <li><p>from <b>clbptmct01</b> box upload the following file to <b>/home/memfis/psql/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/home/memfis/psql/clb.sql</code></div></li>
        <li><p>from <b>clbptmct01</b> box upload the following file to <b>/home/memfis/psql/auth/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/home/memfis/psql/clb_auth.sql</code></div></li>
        <li><p>from <b>clbptmct01</b> box upload the following file to <b>/home/memfis/psql/notif/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/home/memfis/psql/clb_notif.sql</code></div></li>
        <li><p>from <b>clbptmct01</b> box upload the following file to <b>/home/memfis/psql/stat/</b> directory using any sftp client:</p>
            <div style="background-color:silver;"><code>/home/memfis/psql/clb_stat.sql</code></div></li>
        <li><p>(ssh:qirk:memfis) execute the following commands to setup postgresql database (require <a href="#psql_postgres_password">password of postgres</a> user on <b>first two steps</b> and <a href="#psql_hibernate_password">password for hibernate</a> user on the next commands)</p>
            <div style="background-color:silver;"><code>$ psql -U hibernate -d clb -a -f clb.sql<br/>
$ psql -U hibernate -d clb_auth -a -f auth/clb_auth.sql<br/>
$ psql -U hibernate -d clb_notif -a -f notif/clb_notif.sql<br/>
$ psql -U hibernate -d clb_stat -a -f stat/clb_stat.sql</code></div></li>
        <li><p>(ssh:qirk:memfis) delete database backup</p>
            <div style="background-color:silver;"><code>$ rm clb.sql<br/>
$ rm auth/clb_auth.sql<br/>
$ rm notif/clb_notif.sql<br/>
$ rm stat/clb_stat.sql</code></div></li>
        <li><p>(ssh:qirk:memfis) change directory to /home/memfis/elasticsearch/ using the following command:</p>
            <div style="background-color:silver;"><code>$ cd ~/elasticsearch/</code></div></li>
        <li><p>(ssh:qirk:memfis) execute script to synchronize elasticsearch with PostreSQL data using the following command (press Ctrl+C after <b>Synchronizing tasks: finish</b> log):</p>
            <div style="background-color:silver;"><code>$ java -jar clb-elasticsearch-datasync-3.13.1-CUT.jar datasync.properties</code></div></li>
        <li><p>(ssh:qirk:memfis) switch to the root account</p>
            <div style="background-color:silver;"><code>$ su</code></div></li>
        <li><p>(ssh:qirk:memfis) run tomcat using the following command</p>
            <div style="background-color:silver;"><code># service tomcat.service start</code></div></li>
    </ol>

</body>
</html>
